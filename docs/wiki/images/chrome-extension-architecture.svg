<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 440 340" font-family="'Segoe UI', Arial, sans-serif">
  <defs>
    <filter id="shadow1" x="-2%" y="-2%" width="104%" height="104%">
      <feDropShadow dx="1" dy="1" stdDeviation="2" flood-color="#00000020"/>
    </filter>
    <filter id="shadow2" x="-2%" y="-2%" width="104%" height="104%">
      <feDropShadow dx="1" dy="1" stdDeviation="1.5" flood-color="#00000018"/>
    </filter>
  </defs>

  <!-- Outer container: Chrome 拡張機能 -->
  <rect x="10" y="10" width="420" height="320" rx="6" ry="6"
        fill="#FFFDE7" stroke="#F9A825" stroke-width="1.5" filter="url(#shadow1)"/>
  <text x="220" y="34" text-anchor="middle" font-size="14" font-weight="bold" fill="#E65100">Chrome 拡張機能</text>

  <!-- Content Script box -->
  <rect x="30" y="50" width="160" height="60" rx="6" ry="6"
        fill="#E3F2FD" stroke="#1565C0" stroke-width="1" filter="url(#shadow2)"/>
  <text x="110" y="72" text-anchor="middle" font-size="11" font-weight="bold" fill="#0D47A1">Content Script</text>
  <text x="110" y="90" text-anchor="middle" font-size="10" fill="#1565C0">(content.ts)</text>

  <!-- Background Script box -->
  <rect x="220" y="50" width="190" height="60" rx="6" ry="6"
        fill="#E3F2FD" stroke="#1565C0" stroke-width="1" filter="url(#shadow2)"/>
  <text x="315" y="72" text-anchor="middle" font-size="11" font-weight="bold" fill="#0D47A1">Background Script</text>
  <text x="315" y="90" text-anchor="middle" font-size="10" fill="#1565C0">(background.ts)</text>

  <!-- Arrow from Content Script down -->
  <line x1="110" y1="110" x2="110" y2="130" stroke="#546E7A" stroke-width="1.5"/>
  <polygon points="110,138 106,130 114,130" fill="#546E7A"/>

  <!-- Shared library container -->
  <rect x="30" y="140" width="380" height="178" rx="6" ry="6"
        fill="#E8F5E9" stroke="#2E7D32" stroke-width="1.2" filter="url(#shadow2)"/>
  <text x="220" y="162" text-anchor="middle" font-size="13" font-weight="bold" fill="#1B5E20">共通ライブラリ (shared)</text>

  <!-- Parser box -->
  <rect x="50" y="176" width="160" height="126" rx="6" ry="6"
        fill="#FFFFFF" stroke="#43A047" stroke-width="1"/>
  <text x="130" y="196" text-anchor="middle" font-size="12" font-weight="bold" fill="#2E7D32">Parser</text>
  <line x1="60" y1="204" x2="200" y2="204" stroke="#C8E6C9" stroke-width="1"/>
  <text x="70" y="224" font-size="11" fill="#37474F">・XAML解析</text>
  <text x="70" y="246" font-size="11" fill="#37474F">・差分計算</text>
  <text x="70" y="268" font-size="11" fill="#37474F">・行マップ</text>

  <!-- Renderer box -->
  <rect x="230" y="176" width="164" height="126" rx="6" ry="6"
        fill="#FFFFFF" stroke="#43A047" stroke-width="1"/>
  <text x="312" y="196" text-anchor="middle" font-size="12" font-weight="bold" fill="#2E7D32">Renderer</text>
  <line x1="240" y1="204" x2="384" y2="204" stroke="#C8E6C9" stroke-width="1"/>
  <text x="250" y="224" font-size="11" fill="#37474F">・ツリー表示</text>
  <text x="250" y="246" font-size="11" fill="#37474F">・差分表示</text>
  <text x="250" y="268" font-size="11" fill="#37474F">・シーケンス</text>
</svg>
